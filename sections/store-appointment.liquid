{{ 'store-appointment.css' | asset_url | stylesheet_tag }}

<script src="https://cdn.jsdelivr.net/npm/add-to-calendar-button@2" ></script>
<script>
        $("#MainContent").css({ marginTop:$(".header").height() });
  console.log( $(".header").height() );
  
    $(window).on("scroll", function (evt) {
  const scrollY = evt.currentTarget.scrollY;

    if (scrollY >= 1) {
        $(".header").css({position:"fixed", background:'white'});
        $("#MainContent").css({ marginTop:$(".header").height()});
    } else {
        $(".header").css({position:"relative"});
        $("#MainContent").css({marginTop:"0px"});
    }
});
  
  $(window).on("load", function (evt) {
    
        $("#MainContent").css({ marginTop:$(".header").height()});
});
</script>


<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200">

<div class="store-appointment">

  <h3>Store Appointment</h3>

  <div class="appointment-container">
    <div class="store-location-container">

      <div class="location-subheading-group">

        <h5>Store Location</h5>

        <div hidden id="location-edit">Edit</div>
      </div>

      <div class="store-location-description">Select a store location where you'd like to have your in-store appointment.</div>

      <div class="location-details-wrapper">
        <div class="location-details ">
          <div class="store-branch-text">Store branch</div>
          <select
            class="location-select"
            name="location"
            id="location">
            <option
              selected="selected"
              disabled
              hidden></option>
            {% paginate shop.metaobjects.store.values by 200 %}
              {% for store in shop.metaobjects.store.values limit: 9999 %}
                {% if store.enable_store_appointment.value == true %}

                  <option class="location-options" label="{{ store.name.value | lstrip }}" value="{{store.store_code.value | lstrip }}">{{ store.name.value | lstrip }}</option>
                {% endif %}

              {% endfor %}
            {% endpaginate %}

          </select>

          <button
            id="store-location-button"
            class="appointment-button store-location-button "
            disabled>Continue</button>
        </div>
      </div>
    </div>
  </div>

  <div class="appointment-container">
    <div class="store-schedule-container">

      <div class="schedule-subheading-group">

        <h5>Date and Time</h5>

        <div hidden id="schedule-edit">Edit</div>
      </div>

      <div class="store-schedule-description collapsed">Select the date and time for your appointment. Each slot is 30 minutes long.</div>

      <div class="schedule-details-wrapper collapsed">
        <div class="schedule-details">

          <div class="calendar-container">
            
              <div class="calendar-spinner">
                <div class="spinner"></div>
              </div>
            <header class="calendar-header">
              <p class="calendar-current-date"></p>
              <div class="calendar-navigation">
                <span id="calendar-prev" class="material-symbols-rounded">
<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
  <path d="M9.16927 4.16724L3.33594 10.0006L9.16927 15.8339M3.33594 10.0006L16.6693 10.0006" stroke="#352B27" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
                </span>
                <span id="calendar-next" class="material-symbols-rounded">
<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
  <path d="M10.8346 15.8328L16.668 9.99943L10.8346 4.1661M16.668 9.99943L3.33464 9.99943" stroke="#352B27" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
                </span>
              </div>
            </header>
            <div class="calendar-body">
              <ul class="calendar-weekdays">
                <li>Sun</li>
                <li>Mon</li>
                <li>Tue</li>
                <li>Wed</li>
                <li>Thu</li>
                <li>Fri</li>
                <li>Sat</li>
              </ul>
              <ul class="calendar-dates"></ul>
            </div>
          </div>

          <div class="time-container collapsed">
              <div class="time-spinner">
                <div class="spinner"></div>
              </div>
            <div class="time-header">Time</div>
            <div class="time-slot-container"></div>
          </div>
          <button class="appointment-button store-schedule-button " disabled>Continue</button>
        </div>
      </div>
    </div>
  </div>
  
  <div class="appointment-container">
   <div class="customer-information-container">
      <div class="customer-subheading-group">
        <h5>Personal Details</h5>
        <div hidden id="customer-edit">Edit</div>
      </div>
      <div class="customer-description collapsed">Tell us a little about yourself.</div>
      <div class="customer-details-wrapper collapsed">
        <div class="input-wrapper first-name">
          <label for="firstname">First name</label>
          <input type="text" name="firstname" id="firstname" {% if customer %}  value="{{ customer.first_name }}" {% endif %}>
        </div>
        <div class="input-wrapper last-name">
          <label for="lastname">Last name</label>
          <input type="text" name="lastname" id="lastname"  {% if customer %}  value="{{ customer.last_name }}" {% endif %}>
        </div>

        <div class="input-wrapper email">
          <label for="email">Email address</label>
          <input type="email" name="email" id="email" {% if customer %}  value="{{ customer.email }}" {% endif %}>
        </div>

        <div class="input-wrapper phone">
          <label for="phone">Phone number</label>
          <input type="text" name="phone" id="phone">
        </div>

        <div class="input-wrapper tc">
          <label class="container">By booking a Store Appointment, I accept the Terms & Conditions of this website.
            <input id="confirm-tc" type="checkbox" >
          </label>
        </div>
        <div class="error-message">
          <div class="required-fields-error">Fill out all required fields.</div>
          <div class="tc-error">Please accept the Terms & Conditions to proceed.</div>
          <div class="booking-error">We're currently working on it, please try again later.</div>
        </div>
        <button id="confirmation-button" class="appointment-button confirmation-button" >Book appointment</button>
      </div>
   </div>
  </div>
</div>

<div class="appointment-success collapsed">
  <h3>
    Your appointment is confirmed!
  </h3>
  <div class="success-description">
    Thanks for booking a store appointment. You can find a summary of your appointment details below. You will also receive a confirmation email with important reminders before and during your appointment.
  </div>
  <div class="appointment-detail-wrapper">
    <div class="appointment-detail-location">
      <p>Store Location</p>
      <div></div>
    </div>
    <div class="appointment-detail-date">
      <p>Date</p>
      <div></div>
    </div>
    <div class="appointment-detail-time">
      <p>Time</p>
      <div></div>
    </div>
  </div>

  <div id="add-to-calendar-appoint" class="appointment-button "
>Add to calendar</div>

  <div class="cancel">Canâ€™t make it anymore? <a id="cancelLink" href="/pages/cancel">Cancel my appointment</a></div>
</div>

{{ 'store-appointment.js' | asset_url | script_tag }}
{% schema %}{
  "name": "Store Appointment",
  "presets": [
    {
      "name": "Store Appointment"
    }
  ]
}
{% endschema %}
