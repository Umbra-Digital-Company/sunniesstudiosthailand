
<div class="flask-sec-e">
  {% comment %} test {% endcomment %}
  <h2>{{ section.settings.heading }}</h2>
  <h3>{{ section.settings.subheading }}</h3>

  <div>
    <div class="swiper-container">
      <div class="swiper-wrapper">
        {% for block in section.blocks %}
          {% case block.type %}
            {% when 'slide' %}
              <div class="swiper-slide" {{ block.shopify_attributes }}>
                <div>
                  <a target="_blank" href="https://sunniesstudios.com/products/sunnies-flask-dev-test?cap={{ block.settings.cap }}&loop={{ block.settings.loop }}&bottle={{ block.settings.bottle }}&boot={{ block.settings.boot }}" 
                  class="flask-sec-e__button">
                    <img src="{{ 'plus-iconv1.svg' | asset_url }}" alt="Plus" height="16" width="16">
                  </a>
                  <div class="flask-sec-e__hover-info-container">
                    {% if block.settings.cap != blank %}
                      <div class="flask-sec-e__hover-info flask-sec-e__hover-info--cap">
                        <div class="flask-sec-e__hover-info-dot"><div></div></div>
                        <div class="flask-sec-e__hover-info-text"><span>Cap: </span><span>{{ block.settings.cap }}</span></div>                 
                      </div>
                    {% endif %}
                    {% if block.settings.loop != blank %}
                    <div class="flask-sec-e__hover-info flask-sec-e__hover-info--loop">
                      <div class="flask-sec-e__hover-info-dot"><div></div></div>
                      <div class="flask-sec-e__hover-info-text"><span>Loop: </span><span>{{ block.settings.loop }}</span></div>                 
                    </div>
                    {% endif %}
                    {% if block.settings.bottle != blank %}
                      <div class="flask-sec-e__hover-info flask-sec-e__hover-info--bottle">
                        <div class="flask-sec-e__hover-info-dot"><div></div></div>
                        <div class="flask-sec-e__hover-info-text"><span>Bottle: </span><span>{{ block.settings.bottle }}</span></div>                 
                      </div>
                    {% endif %}
                    {% if block.settings.boot != blank %}
                      <div class="flask-sec-e__hover-info flask-sec-e__hover-info--boot">
                        <div class="flask-sec-e__hover-info-dot"><div></div></div>
                        <div class="flask-sec-e__hover-info-text"><span>Boot: </span><span>{{ block.settings.boot }}</span></div>                 
                      </div>
                    {% endif %}
                  </div>
                  {{ block.settings.image_mobile | image_url: width: 400 | image_tag: class: 'flask-sec-e__image flask-sec-e__image--mobile' }}
                  {{ block.settings.image_desktop | image_url: width: 800 | image_tag: class: 'flask-sec-e__image flask-sec-e__image--desktop' }}
                </div>
              </div>
          {% endcase %}
        {% endfor %}
      </div>
      <!-- Add Navigation -->
      <div class="flask-sec-e__nav">
        <div class="flask-sec-e__swiper-button-next"><img src="{{ 'arrow-right-black.svg' | asset_url }}" alt="Arrow right" height="16" width="16"></div>
        <div class="flask-sec-e__swiper-button-prev"><img src="{{ 'arrow-right-black.svg' | asset_url }}" alt="Arrow right" height="16" width="16"></div>
      </div>
    </div>
  </div>
</div>

<style>
  .flask-sec-e {
    padding: 40px 16px;
  }
  .flask-sec-e > h2 {
    font-family: 'Replica';
    font-size: 22px;
    color: var(--soft-black-700, #352B27);
  }
  .flask-sec-e > h3 {
    font-family: 'Replica';
    font-size: 14px;
    color: var(--soft-black-700, #352B27);
    margin-top: 4px;
  }
  .flask-sec-e > div {
    margin-top: 16px;
  }
  .swiper-container {
    width: 100%;
    height: 100%;
    position: relative;
  }
  .flask-sec-e .swiper-slide {
    display: flex;
    justify-content: center;
    position: relative;
  }
  .flask-sec-e .swiper-slide:hover {
    z-index: 1;
  }
  .flask-sec-e .swiper-slide > div {
    position: relative;
    width: 100%;
    padding-bottom: 100%;
  }
  .flask-sec-e .swiper-slide > div > a {
    z-index: 10;
  }
  .flask-sec-e .swiper-slide > div:hover > .flask-sec-e__hover-info-container{
    display: block;
  }
  .swiper-slide {
    text-align: center;
    font-size: 18px;
    background-color: #eee;
  }
  .flask-sec-e__nav {
    justify-content: space-between;
    width: 103%;
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    display: none;
    z-index: 1;
    flex-direction: row-reverse;
    transform: translateX(-20px);
  }
  .flask-sec-e__swiper-button-next, .flask-sec-e__swiper-button-prev, .flask-sec-e__button {
    height: 40px;
    width: 40px;
    display: flex;
    justify-content: center;
    align-items: center;
    background: white;
    border-radius: 100%;
    box-shadow: 0px 2px 2px 1px rgba(0, 0, 0, 0.10);
  }
  .flask-sec-e__button {
    position: absolute;
    z-index: 1;
    bottom: 12px;
    right: 12px;
    box-shadow: none;
    cursor: pointer;
  }
  .flask-sec-e__nav img {
    height: 11px;
    width: 16px;
  }
  .flask-sec-e__swiper-button-prev {
    transform: rotate(180deg);
  }
  .flask-sec-e__image {
    position: absolute;
    width: 100%;
    height: 100%;
    left: 0;
    top: 0;
    object-fit: cover;
  }
  .flask-sec-e__image--desktop {
    display: none;
  }
  .flask-sec-e .swiper-button-disabled {
      /* display:none;    */
  }
  .flask-sec-e__hover-info-container {
    position: absolute;
    height: 100%;
    width: 100%;
    top: 0;
    left: 0;
    z-index: 1;
    display: none;
  }
  .flask-sec-e__hover-info {
    display: flex;
    align-items: center;
    gap: 4px;
  }
  .flask-sec-e__hover-info--cap {
    position: absolute;
    top: 16%;
    left: 52%;
  }
  .flask-sec-e__hover-info--loop {
    position: absolute;
    top: 28%;
    left: 62%;
  }
  .flask-sec-e__hover-info--bottle {
    position: absolute;
    top: 34%;
    left: 10%;
    flex-direction: row-reverse;
  }
  .flask-sec-e__hover-info--boot {
    position: absolute;
    top: 70%;
    left: 54%;
  }
  .flask-sec-e__hover-info-dot {
    height: 16px;
    width: 16px;
    padding: 4px;
    background-color: rgba(0,0,0,0.3);
    border-radius: 100%;
  }
  .flask-sec-e__hover-info-dot > div {
    background-color: white;
    width: 100%;
    height: 100%;
    border-radius: 100%;
  }
  .flask-sec-e__hover-info-text {
    font-size: 11px;
    padding: 2px 8px;
    border-radius: 1000px;
    background-color: white;
    white-space: nowrap;
  }
  .flask-sec-e__hover-info-text > span:first-child {
    font-family: 'Replica-Bold';
  }
  .flask-sec-e__hover-info-text > span:last-child {
    font-family: 'Replica';
  }

  @media only screen and (min-width: 1024px) {
    .flask-sec-e {
      padding: 40px;
      max-width: 1440px;
      margin: 0 auto;
    }
    .flask-sec-e__nav {
      display: flex;
    }
    .flask-sec-e__image--mobile {
      display: none;
    }
    .flask-sec-e__image--desktop {
      display: block;
    }
    .flask-sec-e .swiper-slide > div {
      padding-bottom: 125%;
    }
    .flask-sec-e__hover-info--cap {
      top: 17%;
      left: 56%;
    }
    .flask-sec-e__hover-info--loop {
      top: 27%;
      left: 65%;
    }
    .flask-sec-e__hover-info--bottle {
      top: 35%;
      left: 5%;
    }
    .flask-sec-e__hover-info--boot {
      top: 71%;
      left: 57%;
    }
    .flask-sec-e__hover-info-text {
      font-size: 14px;
      padding: 4px 12px;
      visibility: hidden;
    }
    .flask-sec-e__hover-info-dot:hover ~ .flask-sec-e__hover-info-text{
      visibility: visible;
    }
  }
</style>

<script>
  var swiper = new Swiper('.flask-sec-e .swiper-container', {
    slidesPerView: 1.3,
    direction: 'horizontal',
    spaceBetween: 4,
    breakpoints: {
      1024: {
        slidesPerView: 4,
      },
    },
    navigation: {
      nextEl: '.flask-sec-e__swiper-button-next',
      prevEl: '.flask-sec-e__swiper-button-prev',
    },
  });
</script>

{% schema %}
  {
    "name": "Flask Section E",
    "settings": [
        {
        "type": "text",
        "id": "heading",
        "label": "Heading"
      },
      {
        "type": "text",
        "id": "subheading",
        "label": "Subheading"
      }
    ],
    "blocks": [
      {
       "name": "Slide",
       "type": "slide",
       "settings": [
         {
           "type": "image_picker",
           "id": "image_mobile",
           "label": "Image (Mobile)"
         },
         {
           "type": "image_picker",
           "id": "image_desktop",
           "label": "Image (Desktop)"
         },
         {
           "type": "text",
           "id": "cap",
           "label": "Cap"
         },
         {
           "type": "text",
           "id": "loop",
           "label": "Loop"
         },
         {
           "type": "text",
           "id": "bottle",
           "label": "Bottle"
         },
         {
           "type": "text",
           "id": "boot",
           "label": "Boot"
         }
       ]
      }
    ],
    "presets": [
      {
        "name": "Flask Section E"
      }
    ]
  }
{% endschema %}